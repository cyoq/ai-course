% Convert with command:
% convert -density 300 pic.pdf -quality 90 pic.png
\documentclass[crop,tikz,border=0pt]{standalone}
\usetikzlibrary{arrows.meta}
\begin{document}
\begin{tikzpicture}

\begin{scope}[every node/.style={circle,thick,draw}]
    \draw (0,0) rectangle (4,4) [fill=white] {};
    \draw (5,0) rectangle (9,4) [fill=white] {};

    \node (A) at (2,3.5)[shape=rectangle, fill=white] {State};
    \node (B) at (2,1.5)[shape=rectangle, fill=white] {Knowledge Base};

    \node (C) at (7,3.5)[shape=rectangle, fill=white] {Sensors};
    \node (D) at (7,1.5)[shape=rectangle, fill=white] {Actuators};
\end{scope}

\tikzset{CustomEdge/.style={fill=white,rectangle}}

\begin{scope}[>={Stealth[black]},
            %   every node/.style={fill=white,rectangle},
            %   every node/.style={},
              every edge/.style={draw=red,very thick}]
    \path [->] (A) edge node {} (B);
    \path [->] (B) edge node [CustomEdge] {action} (D);
    \path [->] (C) edge node [CustomEdge] {perceptions} (A);
\end{scope}

% \draw (0,1) node [] {Text at \verb!node A!};

\draw (0.7,0.4) node [rectangle, draw, fill=black, text=white] {Agent};

\draw (6.2,0.4) node [rectangle, draw, fill=black, text=white] {Environment};

\end{tikzpicture}
\end{document}
